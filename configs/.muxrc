# ~/.muxrc to be included in ~/.bashrc
[ ! "$MUX_HOME" ] && exit 0
MUX=true

source $MUX_HOME/scripts/resources/tools.sh
export PYTHONPATH="$PYTHONPATH:$MUX_HOME/examples/python"
export LESS=FRX

alias g=mux-grep
alias p=mux-python

function sqtcreator() {
    mux_silent_run qtcreator ${@:-$(mux_first_existing_file CMakeLists.txt *.pro)}
}

function sdevenv() {
    mux_silent_run devenv ${@:-$(mux_first_existing_file *.sln build/*.sln)}
}

function cless() {
    "$@" --color=always | LESS=FRX less
}

function f() {
    find "${2:-.}" -name "$1" $([ "$3" ] && echo -type "$3")
}

function e() {
    mux_first_gui_tool "gedit kate notepad++ notepad" "$@"
}

function wcd() {
    cd $(mux_wundows_path "$@")
}

if [ $(basename $SHELL) == bash ]; then
    PS1='\n\[\033[01;32m\]\u \[\033[01;34m\]@\h \[\033[01;32m\]\D{%H:%M:%S} \[\033[01;34m\]\w\[\033[00m\]\n\$ '
    mux_bash_history 1000000000
fi

if [ "$TERM" != "screen" ]; then
    if which tmux 2>/dev/null; then
        SESSION=$(tmux list-sessions | grep -v '(attached)' | head -1 | cut -f1 -d':')
        exec tmux $([ "$SESSION" ] && echo attach -t $SESSION)
    elif which screen 2>/dev/null; then
        exec screen
    fi
fi

