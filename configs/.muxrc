# ~/.muxrc to be included in ~/.bashrc
MUX=true

# Initialize own tools
export PYTHONPATH="$PYTHONPATH:$MUX_HOME/sandbox/python"

# Bash config
if [ $(basename $SHELL) == bash ]; then
    PS1='\n\[\033[01;32m\]\u \[\033[01;34m\]@\h \[\033[01;32m\]\D{%H:%M:%S} \[\033[01;34m\]\w\[\033[00m\]\n\$ '
fi

# Prints first existing file from arguments
function first_existing_file() {
    for file in $@; do
        if [ -f "$file" ]; then
            echo "$file"
            return 0
        fi
    done
}

# QtCreator silent run [PROJECT.pro]
function sqtcreator() {
    CMD="qtcreator ${@:-$(first_existing_file CMakeLists.txt *.pro)}"
    echo $CMD
    $CMD >/dev/null 2>&1 &
}

# Vim super developer mode FILE
function svi() {
    sudo chmod +x "$1"
    sudo vi "$@"
}

# Find NAME [DIR]
function f() {
    find "${2:-.}" -name "$1" $([ "$3" ] && echo -type "$3")
}

# Grep PATTERN [DIR]
function g() {
    DIR=${2:-$(if [ ! -t 1 ]; then echo .; fi)}
    if [[ "$DIR" ]]; then
        grep -rI "$1" "$DIR"
    else
        grep "$1"
    fi
}

# Start tmux or screen as main terminal emulator
TERMINAL_MULTIPLEXER=$(which tmux || which screen)
if [[ $TERMINAL_MULTIPLEXER ]] && [[ $TERM != "screen" ]]; then
    exec $TERMINAL_MULTIPLEXER
fi

